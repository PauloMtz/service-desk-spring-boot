<!DOCTYPE html>
<html xmlns:layout="http://www.w3.org/1999/xhtml"
    layout:decorate="~{layout}">
<body>
	<div class="container" layout:fragment="corpo">
        <h2>Receber Equipamento</h2>
        <form th:object="${recebimento}" method="POST" th:action="@{/operacao/receber}">
            <div th:replace="fragments/alerta"></div>
            
            <div class="row">
                <div class="form-group col-md-6">
                    <label>Equipamento</label>
                    <input type="text" class="form-control" placeholder="Equipamento..."
                        th:field="*{equipamento}" autofocus 
                        th:classappend="${#fields.hasErrors('equipamento')} ? 'is-invalid'" />

                    <div class="invalid-feedback">
                        <span th:errors="*{equipamento}"></span>
                    </div>
                  </div>

                  <div class="form-group col-md-6">
                    <label for="cliente">Cliente</label>
                    <select class="form-control" th:field="*{cliente}">
                        <option value="">Selecione</option>
                        <option th:each="cliente : ${clientes}" 
                            th:value="${cliente.id}" th:text="${cliente.nome}"></option>
                    </select>
                </div>
            </div>

            <div class="row">
                <div class="form-group col-md-4">
                    <label>Marca</label>
                    <input type="text" class="form-control" placeholder="Marca..." 
                        th:field="*{marca}" />
                </div>

                <div class="form-group col-md-4">
                    <label>Modelo</label>
                    <input type="text" class="form-control" placeholder="Modelo..." 
                        th:field="*{modelo}" />
                </div>

                <div class="form-group col-md-4">
                    <label>Número de Série</label>
                    <input type="text" class="form-control" placeholder="Número de série..." 
                        th:field="*{numSerie}" 
                        th:classappend="${#fields.hasErrors('equipamento')} ? 'is-invalid'" />

                    <div class="invalid-feedback">
                        <span th:errors="*{numSerie}"></span>
                    </div>

                    <span class="erro-existe" th:if="${numSerieExiste}" th:text="${numSerieExiste}"></span>
                </div>
            </div>

            <div class="row">
                <div class="form-group col-md-12">
                    <label>Observação</label>
                    <textarea class="form-control" rows="3" placeholder="Observação..."
                        th:field="*{observacao}"></textarea>
                </div>
            </div>

            <div class="row">
                <div class="form-group col-md-12">
                    <input type="hidden" th:field="*{usuario}"/>
                    <button type="submit" class="btn btn-outline-primary">Salvar</button>
                    <a class="btn btn-outline-warning" th:href="@{/home}">Cancelar</a>
                </div>
            </div>
        </form>
    </div>
</body>
</html>